<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ø§Ù„Ø´Ø§Øª - Ø´Ø§Øª Ø¹Ø±Ø¨ÙŠ</title>
  <link rel="icon" href="/favicon.ico.png" type="image/png">
  <link rel="apple-touch-icon" href="/favicon.ico.png">
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "Moh Chat",
    "url": "https://chat-arabi-1.onrender.com",
    "publisher": {
      "@type": "Organization",
      "logo": "https://chat-arabi-1.onrender.com/favicon.ico.png"
    }
  }
  </script>
  <link rel="stylesheet" href="chat.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="/socket.io/socket.io.js"></script>
  <style>
    /* Ø£Ù†Ù…Ø§Ø· Ø³Ø±ÙŠØ¹Ø© Ù„Ù„ÙˆØ­Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© (ÙŠÙ…ÙƒÙ†Ùƒ Ù†Ù‚Ù„Ù‡Ø§ Ù„Ø§Ø­Ù‚Ø§Ù‹ Ø¥Ù„Ù‰ chat.css) */
    .conversations-panel, .friend-requests-panel, .reports-panel {
      position: fixed;
      top: 60px;
      right: 20px;
      width: 320px;
      max-height: 80vh;
      background: #1e293b;
      border-radius: 12px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.5);
      z-index: 1000;
      overflow-y: auto;
      padding: 15px;
      color: white;
      display: none;
    }
    .panel-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
      border-bottom: 1px solid #334155;
      padding-bottom: 10px;
    }
    .panel-header h3 { margin: 0; font-size: 1.2rem; }
    .close-panel { cursor: pointer; font-size: 1.5rem; }
    .conversation-item, .request-item, .report-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 10px;
      border-radius: 8px;
      margin-bottom: 8px;
      background: #0f172a;
      cursor: pointer;
      transition: background 0.2s;
    }
    .conversation-item:hover, .request-item:hover, .report-item:hover {
      background: #1e40af;
    }
    .conversation-item img, .request-item img {
      width: 40px;
      height: 40px;
      border-radius: 50%;
    }
    .action-btn-small {
      padding: 6px 12px;
      font-size: 0.85rem;
      border-radius: 6px;
      border: none;
      cursor: pointer;
    }
    .accept-btn { background: #10b981; color: white; }
    .reject-btn { background: #ef4444; color: white; }
    .report-item .reporter { font-weight: bold; color: #fbbf24; }

    /* ØªØ­Ø³ÙŠÙ† Ø¨Ø³ÙŠØ· Ù„Ù„Ø¨Ø±ÙˆÙØ§ÙŠÙ„ Ø§Ù„Ø®Ø§Øµ (myProfilePanel) */
    #myProfilePanel {
      width: 460px;
      max-height: 85vh;
      overflow-y: auto;
      background: #0f172a;
      border-radius: 16px;
      box-shadow: 0 15px 40px rgba(0,0,0,0.6);
      color: white;
      position: fixed;
      top: 70px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 2000;
      display: none;
      border: 1px solid #334155;
    }

    .profile-header {
      padding: 15px 20px;
      background: linear-gradient(135deg, #1e293b, #0f172a);
      border-bottom: 1px solid #334155;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: sticky;
      top: 0;
      z-index: 10;
    }

    .profile-header h3 { margin: 0; font-size: 1.4rem; }

    .profile-cover-section {
      position: relative;
      height: 200px;
    }

    .cover-photo {
      width: 100%;
      height: 100%;
      background-size: cover;
      background-position: center;
    }

    .cover-overlay {
      position: absolute;
      inset: 0;
      background: rgba(0,0,0,0.4);
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      transition: opacity 0.3s;
    }

    .profile-cover-section:hover .cover-overlay { opacity: 1; }

    .change-cover-btn {
      background: rgba(0,0,0,0.6);
      color: white;
      padding: 10px 20px;
      border-radius: 30px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .profile-main-content {
      padding: 0 25px;
      margin-top: -70px;
      position: relative;
      z-index: 2;
      text-align: center;
    }

    #myProfileAvatar {
      width: 140px;
      height: 140px;
      border-radius: 50%;
      border: 5px solid #0f172a;
      object-fit: cover;
      box-shadow: 0 8px 25px rgba(0,0,0,0.5);
    }

    .edit-avatar {
      position: absolute;
      bottom: 10px;
      right: 10px;
      background: #3b82f6;
      color: white;
      width: 38px;
      height: 38px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      border: 3px solid #0f172a;
    }

    .user-meta h4 {
      margin: 15px 0 8px;
      font-size: 1.7rem;
    }

    .user-status {
      color: #94a3b8;
      font-size: 1rem;
    }

    .modern-tabs {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 8px;
      padding: 20px 25px 10px;
      border-bottom: 1px solid #334155;
    }

    .m-tab {
      background: #1e293b;
      border: none;
      padding: 10px 18px;
      border-radius: 30px;
      color: #cbd5e1;
      cursor: pointer;
      font-weight: 500;
      transition: all 0.3s;
    }

    .m-tab:hover { background: #334155; }

    .m-tab.active {
      background: #3b82f6;
      color: white;
    }

    .m-tab.highlight {
      background: linear-gradient(90deg, #8b5cf6, #d946ef);
      color: white;
    }

    .tab-content {
      padding: 25px;
    }

    .tab-pane { display: none; }
    .tab-pane.active { display: block; }

    .profile-info-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 18px;
    }

    .info-item {
      background: #1e293b;
      padding: 12px 16px;
      border-radius: 10px;
    }

    .info-item .label {
      color: #94a3b8;
      font-size: 0.9rem;
      display: block;
      margin-bottom: 6px;
    }
  </style>
</head>
<body>
  <header>
    <div class="header-left">
      <h1>Ø´Ø§Øª Ø¹Ø±Ø¨ÙŠ</h1>
      <div class="header-icons">
        <button class="icon-btn" id="privateMsgBtn" title="Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø®Ø§ØµØ©">
          <i class="fas fa-envelope"></i>
          <span id="msgBadge" class="badge" style="display:none;">0</span>
        </button>
        <button class="icon-btn" id="friendReqBtn" title="Ø·Ù„Ø¨Ø§Øª Ø§Ù„ØµØ¯Ø§Ù‚Ø©">
          <i class="fas fa-user-plus"></i>
          <span id="friendReqBadge" class="badge">0</span>
        </button>
        <button class="icon-btn" id="notificationsBtn" title="Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª"><i class="fas fa-bell"></i></button>
        <button class="icon-btn" id="reportsBtn" title="Ø§Ù„Ø¥Ø¨Ù„Ø§ØºØ§Øª"><i class="fas fa-flag"></i></button>
        <!-- Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© -->
        <button class="icon-btn" id="hideUsersPanelBtn" title="Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù…ØªØµÙ„ÙŠÙ†">
          <i class="fas fa-eye-slash"></i>
        </button>
        <button class="icon-btn" id="showUsersPanelBtn" title="Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù…ØªØµÙ„ÙŠÙ†" style="display:none;">
          <i class="fas fa-users"></i>
        </button>
        <!-- Ø²Ø± Ø§Ù„Ù…ØªØ¬Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯ -->
        <button class="icon-btn" id="shopBtn" title="Ø§Ù„Ù…ØªØ¬Ø±">
          <i class="fas fa-shopping-cart"></i>
        </button>
        <!-- Ø²Ø± Ù†Ù‚Ø§Ø·ÙŠ ÙˆÙ…Ø³ØªÙˆØ§ÙŠ (Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©) -->
        <button class="icon-btn" id="myLevelBtn" title="Ù†Ù‚Ø§Ø·ÙŠ ÙˆÙ…Ø³ØªÙˆØ§ÙŠ">
          <i class="fas fa-star"></i>
          <span class="level-text">Ù…Ø³ØªÙˆØ§ÙŠ</span>
        </button>
      </div>
    </div>
    <div style="display: flex; align-items: center; gap: 15px;">
      <div id="profileBtn">
        <img id="avatar" src="https://via.placeholder.com/40" alt="Ø¨Ø±ÙˆÙØ§ÙŠÙ„">
      </div>
      <button id="logoutBtn" class="logout-btn" title="ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬">
        <i class="fas fa-sign-out-alt"></i> Ø®Ø±ÙˆØ¬
      </button>
    </div>
  </header>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <!-- Ø§Ù„Ù„ÙˆØ­Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ø§Ù„ØªÙŠ Ø·Ù„Ø¨ØªÙ‡Ø§ -->
  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <!-- Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª Ø§Ù„Ø®Ø§ØµØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
  <div id="conversationsPanel" class="conversations-panel">
    <div class="panel-header">
      <h3>Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª Ø§Ù„Ø®Ø§ØµØ©</h3>
      <span class="close-panel" onclick="document.getElementById('conversationsPanel').style.display='none'">Ã—</span>
    </div>
    <div id="conversationsList"></div>
  </div>
  <!-- Ù„ÙˆØ­Ø© Ø·Ù„Ø¨Ø§Øª Ø§Ù„ØµØ¯Ø§Ù‚Ø© -->
  <div id="friendRequestsPanel" class="friend-requests-panel">
    <div class="panel-header">
      <h3>Ø·Ù„Ø¨Ø§Øª Ø§Ù„ØµØ¯Ø§Ù‚Ø©</h3>
      <span class="close-panel" onclick="document.getElementById('friendRequestsPanel').style.display='none'">Ã—</span>
    </div>
    <div id="friendRequestsList"></div>
  </div>
  <!-- Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¨Ù„Ø§ØºØ§Øª -->
  <div id="reportsPanel" class="reports-panel">
    <div class="panel-header">
      <h3>Ø§Ù„Ø¥Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„ÙˆØ§Ø±Ø¯Ø©</h3>
      <span class="close-panel" onclick="document.getElementById('reportsPanel').style.display='none'">Ã—</span>
    </div>
    <div id="reportsList"></div>
  </div>

  <div class="chat-main">
    <div id="chatWindow"></div>
    <div id="usersPanel">
      <h3>Ø§Ù„Ù…ØªØµÙ„ÙˆÙ† <span id="userCount">0</span></h3>
      <div id="usersList"></div>
    </div>
  </div>

  <form id="messageForm">
    <input type="text" id="messageInput" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ù‡Ù†Ø§..." autocomplete="off" required>
    <button type="button" id="imageUploadBtn" class="emoji-btn" title="Ø¥Ø±Ø³Ø§Ù„ ØµÙˆØ±Ø©" onclick="document.getElementById('imageInput').click();">
      <i class="fas fa-image"></i>
    </button>
    <input type="file" id="imageInput" accept="image/*" style="display:none;">
    <button type="button" id="emojiBtn" class="emoji-btn" title="Ø§Ø®ØªØ± Ø¥ÙŠÙ…ÙˆØ¬ÙŠ">ğŸ˜Š</button>
    <button type="submit">Ø¥Ø±Ø³Ø§Ù„</button>
  </form>

  <div id="emojiPicker" class="emoji-picker hidden">
    <div class="emoji-tabs">
      <button class="emoji-tab active" data-tab="common">Ø§Ù„Ø£ÙƒØ«Ø± Ø§Ø³ØªØ®Ø¯Ø§Ù…Ø§Ù‹</button>
      <button class="emoji-tab" data-tab="animated">Ù…ØªØ­Ø±ÙƒØ©</button>
    </div>
    <div class="emoji-content">
      <div id="tab-common" class="emoji-grid">
        ğŸ˜Š ğŸ˜‚ ğŸ˜ â¤ï¸ ğŸ”¥ ğŸ‘ ğŸ‘ ğŸ™Œ âœ¨ ğŸŒŸ ğŸ˜ ğŸ˜­ ğŸ¥º ğŸ¤© ğŸ¥³ ğŸ‰ ğŸ‚ ğŸ âš¡ ğŸ’¥ ğŸ’¯
        â¤ï¸â€ğŸ”¥ ğŸ«¶ ğŸ¥° ğŸ˜˜ ğŸ˜‹ ğŸ¤¤ ğŸ˜´ ğŸ˜· ğŸ¤¢ ğŸ¤® ğŸ¥µ ğŸ¥¶ ğŸ¤¯ ğŸ¤” ğŸ¤« ğŸ¤­ ğŸ§
        ğŸ‘€ ğŸ‘„ ğŸ’‹ ğŸ«¦ ğŸ‘… ğŸ§  ğŸ«€ ğŸ« ğŸ¦· ğŸ¦´ ğŸ‘£ ğŸ–ï¸ âœŒï¸ ğŸ¤Ÿ ğŸ¤˜ ğŸ‘Œ ğŸ‘ˆ ğŸ‘‰ â˜ï¸
        ğŸ™ ğŸ¤² ğŸ‘ ğŸ‘ ğŸ¤ ğŸ’ª âœŠ ğŸ‘Š ğŸ¤› ğŸ¤œ ğŸ‘‹ ğŸ–– ğŸ¤™ ğŸ–•
      </div>
      <div id="tab-animated" class="emoji-grid animated-emojis hidden">
        <img src="https://www.allsmileys.com/files/kolobok/vishenk/25.gif" alt="Ù‚ÙˆØ©" title="Ù†Ù‚ÙˆØ©">
        <img src="https://www.allsmileys.com/files/kolobok/vishenk/26.gif" alt="Ù‚Ù„Ø¨" title="Ù‚Ù„Ø¨">
        <img src="https://www.allsmileys.com/files/kolobok/vishenk/27.gif" alt="Ø­Ø²ÙŠÙ†" title="Ø­Ø²ÙŠÙ†">
        <img src="https://www.allsmileys.com/files/kolobok/vishenk/11.gif" alt="Ø§Ù‡Ø¯ÙŠÙ‡" title="Ù‡Ø¯ÙŠÙ‡">
        <img src="https://www.allsmileys.com/files/kolobok/vishenk/9.gif" alt="Ù‚Ø¨Ù„Ù‡" title="Ù‚Ø¨Ù„Ù‡">
        <img src="https://www.allsmileys.com/files/kolobok/vishenk/28.gif" alt="Ø§Ø³ØªØ­Ù…Ø§Ù…" title="Ø§Ø³ØªØ­Ù…Ø§Ù…">
        <img src="https://www.allsmileys.com/files/kolobok/vishenk/4.gif" alt="ØµÙˆØ±Ù‡" title="ØµÙˆØ±Ù‡">
        <img src="https://www.allsmileys.com/files/kolobok/vishenk/2.gif" alt="Ø¯Ø±Ø§Ø³Ù‡" title="Ø¯Ø±Ø§Ø³Ù‡">
      </div>
    </div>
  </div>

  <!-- Ø¨Ø±ÙˆÙØ§ÙŠÙ„Ùƒ (Ù…Ø¹ ØªØ­Ø³ÙŠÙ† Ø¨Ø³ÙŠØ· Ù„Ù„Ø´ÙƒÙ„) -->
  <div id="myProfilePanel" class="profile-panel">
    <div class="profile-header">
      <h3>Ø¨Ø±ÙˆÙØ§ÙŠÙ„Ùƒ</h3>
      <span id="closeMyProfile" class="close-panel">Ã—</span>
    </div>

    <div class="profile-cover-section">
      <div class="cover-photo" id="myCoverPhoto" style="background-image: url('https://via.placeholder.com/800x300/0f172a/ffffff?text=Ø®Ù„ÙÙŠØªÙƒ+Ù‡Ù†Ø§');"></div>
      <div class="cover-overlay">
        <label for="coverUpload" class="change-cover-btn">
          <i class="fas fa-camera"></i> ØªØºÙŠÙŠØ± Ø§Ù„Ø®Ù„ÙÙŠØ©
        </label>
        <input type="file" id="coverUpload" accept="image/*" hidden>
      </div>
    </div>

    <div class="profile-main-content">
      <div class="avatar-wrapper">
        <img id="myProfileAvatar" src="https://via.placeholder.com/140" alt="ØµÙˆØ±ØªÙƒ">
        <label for="avatarUpload" class="edit-avatar">
          <i class="fas fa-camera"></i>
        </label>
        <input type="file" id="avatarUpload" accept="image/*" hidden>
      </div>

      <div class="user-meta">
        <h4 id="myProfileUsername">
          MOHAMED-DZ
          <i class="fas fa-edit edit-icon" title="ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø§Ø³Ù…"></i>
        </h4>
        <p class="user-status">
          Ø¶Ø¹ Ø­Ø§Ù„ØªÙƒ Ù‡Ù†Ø§...
          <i class="fas fa-edit edit-icon" title="ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø­Ø§Ù„Ø©"></i>
        </p>
      </div>
    </div>

    <div class="modern-tabs">
      <button class="m-tab active" data-tab="info">Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙŠ</button>
      <button class="m-tab" data-tab="friends">Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡</button>
      <button class="m-tab" data-tab="blocked">ØªØ¬Ø§Ù‡Ù„</button>
      <button class="m-tab" data-tab="options">Ø®ÙŠØ§Ø±Ø§Øª</button>
      <button class="m-tab highlight" data-tab="features">Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª</button>
      <button class="m-tab" data-tab="account">Ø§Ù„Ø­Ø³Ø§Ø¨</button>
    </div>

    <div class="tab-content">
      <div id="tab-info" class="tab-pane active">
        <div class="profile-info-grid">
          <div class="info-item">
            <span class="label">Ø§Ù„Ø§Ø³Ù…:</span>
            <span>Ø§Ø³Ù… Ù…Ø³ØªØ®Ø¯Ù…</span>
          </div>
          <div class="info-item">
            <span class="label">Ø§Ù„Ø¬Ù†Ø³:</span>
            <span>Ø°ÙƒØ±</span>
          </div>
          <div class="info-item">
            <span class="label">Ø§Ù„Ø¹Ù…Ø±:</span>
            <span>Ø¹Ø¯Ù… Ø¥Ø¸Ù‡Ø§Ø±</span>
          </div>
          <div class="info-item">
            <span class="label">Ø§Ù„Ø¨Ù„Ø¯:</span>
            <span>ÙØ±Ù†Ø³Ø§</span>
          </div>
          <div class="info-item">
            <span class="label">Ø§Ù„Ø­Ø§Ù„Ø©:</span>
            <span>Ø¹Ø¯Ù… Ø¥Ø¸Ù‡Ø§Ø±</span>
          </div>
        </div>
      </div>

      <div id="tab-friends" class="tab-pane hidden">
        <p>Ù‚Ø§Ø¦Ù…Ø© Ø£ØµØ¯Ù‚Ø§Ø¦Ùƒ Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§...</p>
      </div>

      <div id="tab-blocked" class="tab-pane hidden">
        <p>Ø§Ù„Ø£Ø´Ø®Ø§Øµ Ø§Ù„Ø°ÙŠÙ† ØªÙ… ØªØ¬Ø§Ù‡Ù„Ù‡Ù…...</p>
      </div>

      <div id="tab-options" class="tab-pane hidden">
        <p>Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙˆØ§Ù„Ø®ÙŠØ§Ø±Ø§Øª...</p>
      </div>
<div id="tab-features" class="tab-pane hidden">
    
    <h4 style="margin-bottom: 15px; color: #fff; text-align: center;">Ø¥Ø·Ø§Ø± Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø´Ø®ØµÙŠØ©</h4>
    
    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(45px, 1fr)); gap: 8px; background: #1a1a1a; padding: 15px; border-radius: 10px; border: 1px solid #333;">
        <div onclick="updateAvatarBorder('4px solid #ff0000')" style="aspect-ratio: 1/1; background: red; border-radius: 4px; cursor: pointer;"></div>
        <div onclick="updateAvatarBorder('4px solid #007bff')" style="aspect-ratio: 1/1; background: #007bff; border-radius: 4px; cursor: pointer;"></div>
        <div onclick="updateAvatarBorder('4px solid #ffd700')" style="aspect-ratio: 1/1; background: #ffd700; border-radius: 4px; cursor: pointer;"></div>
        <div onclick="updateAvatarBorder('none')" style="aspect-ratio: 1/1; background: #333; border-radius: 4px; cursor: pointer; display: flex; align-items: center; justify-content: center; color: white; font-size: 10px;">Ø­Ø°Ù</div>
    </div>

    <div style="margin-top: 15px; display: flex; gap: 10px;">
        <button onclick="saveBorderSelection()" style="flex: 1; padding: 10px; background: #00bcd4; color: white; border: none; border-radius: 5px; cursor: pointer; font-weight: bold;">Ø­ÙØ¸ Ø§Ù„Ø¥Ø·Ø§Ø±</button>
    </div>

    <hr style="margin: 20px 0; border: 0; border-top: 1px solid #333;">

    <h4>Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ</h4>
    <p>Ø§Ø´ØªØ±Ø§ÙƒÙƒ Ø§Ù„Ø­Ø§Ù„ÙŠ: <strong>Ø¹Ø§Ø¯ÙŠ</strong></p>

</div> 
<button class="icon-btn" onclick="showTab('features')" title="Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª">
    <i class="fas fa-star"></i>
</button>
      <div id="tab-account" class="tab-pane hidden">
        <h4>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø³Ø§Ø¨</h4>
        <button class="danger-btn">Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨</button>
      </div>
    </div>
  </div>

  <div id="shopPanel" class="shop-panel" style="display:none;">
    <div class="shop-header">
      <h3>Ø§Ù„Ù…ØªØ¬Ø±</h3>
      <span id="closeShop" class="close-panel">Ã—</span>
    </div>
    <div class="shop-body">
      <h4>Ø±ØµÙŠØ¯ Ù†Ù‚Ø§Ø·Ùƒ: <span id="myPoints">0</span></h4>
      <div class="shop-items">
        <!-- Ø³ÙˆØ¨Ø± Ø£Ø¯Ù…Ù† -->
        <div class="shop-item">
          <div class="item-info">
            <span class="badge superadmin">Ø³ÙˆØ¨Ø± Ø£Ø¯Ù…Ù† âš™ï¸</span>
            <span class="price">5000 Ù†Ù‚Ø·Ø©</span>
          </div>
          <button class="buy-btn" data-role="superadmin" data-price="5000">Ø´Ø±Ø§Ø¡</button>
        </div>
        <!-- Ø£Ø¯Ù…Ù† -->
        <div class="shop-item">
          <div class="item-info">
            <span class="badge admin">Ø£Ø¯Ù…Ù† ğŸ”°</span>
            <span class="price">3000 Ù†Ù‚Ø·Ø©</span>
          </div>
          <button class="buy-btn" data-role="admin" data-price="3000">Ø´Ø±Ø§Ø¡</button>
        </div>
        <!-- Ø¨Ø±ÙŠÙ…ÙŠÙˆÙ… -->
        <div class="shop-item">
          <div class="item-info">
            <span class="badge premium">Ø¨Ø±ÙŠÙ…ÙŠÙˆÙ… ğŸ’</span>
            <span class="price">1500 Ù†Ù‚Ø·Ø©</span>
          </div>
          <button class="buy-btn" data-role="premium" data-price="1500">Ø´Ø±Ø§Ø¡</button>
        </div>
        <!-- VIP -->
        <div class="shop-item">
          <div class="item-info">
            <span class="badge vip">VIP â˜…</span>
            <span class="price">800 Ù†Ù‚Ø·Ø©</span>
          </div>
          <button class="buy-btn" data-role="vip" data-price="800">Ø´Ø±Ø§Ø¡</button>
        </div>
      </div>
    </div>
  </div>

  <div id="levelPointsPanel" class="level-panel hidden">
    <div class="level-panel-content">
      <div class="level-header">
        <h3>Ù†Ù‚Ø§Ø·ÙŠ ÙˆÙ…Ø³ØªÙˆØ§ÙŠ</h3>
        <span class="close-level-panel">Ã—</span>
      </div>
      <div class="level-main-info">
        <div class="level-circle">
          <span class="current-level">1</span>
          <span class="level-label">Ø§Ù„Ù…Ø³ØªÙˆÙ‰</span>
        </div>
        <div class="points-info">
          <div class="points-number">
            <span id="myRealPoints">1</span>
          </div>
          <div class="points-label">Ù†Ù‚Ø·Ø©</div>
        </div>
      </div>
      <div class="level-progress">
        <div class="progress-bar">
          <div class="progress-fill" style="width: 0%"></div>
        </div>
        <div class="progress-text">
          <span>0</span> / <span id="nextLevelPoints">100</span> Ù„Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªØ§Ù„ÙŠ
        </div>
      </div>
    </div>
  </div>

  <!-- Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© Ø§Ù„Ø®Ø§ØµØ© -->
  <div id="privateChatPanel" class="private-chat-panel" style="display: none;">
    <div class="private-header">
      <h3 id="privateChatWith">Ø¯Ø±Ø¯Ø´Ø© Ø®Ø§ØµØ©</h3>
      <span id="closePrivateChat" class="close-panel" style="cursor:pointer;">Ã—</span>
    </div>
    <div id="privateChatMessages" class="private-messages"></div>
    <form id="privateChatForm">
      <input type="text" id="privateChatInput" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„Ø©..." autocomplete="off">
      <button type="submit"><i class="fas fa-paper-plane"></i></button>
    </form>
  </div>

  <div id="otherUserProfileModal" class="other-profile-modal hidden">
    <div class="modal-content">
      <span class="close-modal" onclick="closeOtherUserProfile()">Ã—</span>
      <div class="profile-cover" id="otherUserCover"></div>
      <div class="profile-header-info">
        <img id="otherUserAvatarLarge" src="https://via.placeholder.com/140" alt="ØµÙˆØ±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…" class="large-avatar">
        <div class="user-info-text">
          <h2 id="otherUserDisplayName">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</h2>
          <p id="otherUserStatus" class="status-text">We will meet in Paradise</p>
        </div>
      </div>
      <div class="profile-actions">
        <button class="action-btn msg-btn" id="sendPrivateMsgBtn">Ø±Ø³Ø§Ù„Ø© Ø®Ø§ØµØ©</button>
        <button class="action-btn friend-btn" id="addFriendFromProfile">Ø¥Ø¶Ø§ÙØ© ØµØ¯ÙŠÙ‚</button>
        <button class="action-btn report-btn">Ø¥Ø¨Ù„Ø§Øº</button>
        <div id="adminActionsContainer" style="display: none; margin-top: 15px; border-top: 1px solid #333; padding-top: 10px;">
    </div>
      </div>
      <div class="profile-details">
        <div class="detail-item">
          <span>Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ù„Ù</span>
          <span id="otherProfileUrl">https://chat.arabi.com/u/...</span>
        </div>
        <div class="detail-item">
          <span>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù…</span>
          <span id="otherJoinDate">2026-01-05</span>
        </div>
        <div class="detail-item">
          <span>Ø§Ù„Ø¨Ù„Ø¯</span>
          <span id="otherCountry">Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±</span>
        </div>
        <div class="detail-item">
          <span>Ø¢Ø®Ø± ØªÙˆØ§Ø¬Ø¯</span>
          <span id="otherLastSeen">Ø§Ù„Ø¢Ù†</span>
        </div>
        <div class="detail-item">
          <span>Ø§Ù„Ù†Ù‚Ø§Ø·</span>
          <span id="otherPoints">1821</span>
        </div>
        <div id="adminRankControls" style="margin-top: 15px; padding-top: 15px; border-top: 1px dashed #ccc; text-align: center; display: none;">
            <button onclick="toggleRankList()" style="background:#fbbf24; color:black; border:none; padding:10px 20px; border-radius:8px; cursor:pointer; font-weight:bold; width:100%; display:flex; align-items:center; justify-content:center; gap:8px;">
                <i class="fas fa-gift"></i> Ø¥Ù‡Ø¯Ø§Ø¡ Ø±ØªØ¨Ø©
            </button>
            <div id="ranksListMenu" style="display:none; margin-top:10px; background:rgba(0,0,0,0.05); padding:10px; border-radius:8px; grid-template-columns: 1fr 1fr; gap:8px;">
                <button onclick="setUserRole(document.getElementById('otherUserDisplayName').textContent, 'superadmin')" style="background:#6d28d9; color:white; border:none; padding:8px; border-radius:4px; cursor:pointer;">Ø³ÙˆØ¨Ø± Ø£Ø¯Ù…Ù†</button>
                <button onclick="setUserRole(document.getElementById('otherUserDisplayName').textContent, 'admin')" style="background:#3b82f6; color:white; border:none; padding:8px; border-radius:4px; cursor:pointer;">Ø£Ø¯Ù…Ù†</button>
                <button onclick="setUserRole(document.getElementById('otherUserDisplayName').textContent, 'premium')" style="background:#10b981; color:white; border:none; padding:8px; border-radius:4px; cursor:pointer;">Ø¨Ø±ÙŠÙ…ÙŠÙˆÙ…</button>
                <button onclick="setUserRole(document.getElementById('otherUserDisplayName').textContent, 'vip')" style="background:#f59e0b; color:black; border:none; padding:8px; border-radius:4px; cursor:pointer;">VIP</button>
                <button onclick="setUserRole(document.getElementById('otherUserDisplayName').textContent, 'guest')" style="background:#ef4444; color:white; border:none; padding:8px; border-radius:4px; cursor:pointer; grid-column: span 2;">Ø³Ø­Ø¨ Ø§Ù„Ø±ØªØ¨Ø©</button>
            </div>
        </div>
      </div>
    </div>
  </div>

  <script src="chat.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const usersPanel = document.getElementById('usersPanel');
      const hideBtn = document.getElementById('hideUsersPanelBtn');
      const showBtn = document.getElementById('showUsersPanelBtn');
      hideBtn.addEventListener('click', () => {
        usersPanel.style.display = 'none';
        hideBtn.style.display = 'none';
        showBtn.style.display = 'inline-block';
      });
      showBtn.addEventListener('click', () => {
        usersPanel.style.display = 'block';
        showBtn.style.display = 'none';
        hideBtn.style.display = 'inline-block';
      });

      // Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
      const coverUpload = document.getElementById('coverUpload');
      const myCoverPhoto = document.getElementById('myCoverPhoto');
      if (coverUpload && myCoverPhoto) {
        coverUpload.addEventListener('change', function(e) {
          const file = e.target.files[0];
          if (file) {
            const reader = new FileReader();
            reader.onload = function(event) {
              myCoverPhoto.style.backgroundImage = `url(${event.target.result})`;
            };
            reader.readAsDataURL(file);
          }
        });
      }

      // ÙØªØ­ ÙˆØ¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù…ØªØ¬Ø±
      document.getElementById('shopBtn')?.addEventListener('click', () => {
        document.getElementById('shopPanel').style.display = 'block';
      });
      document.getElementById('closeShop')?.addEventListener('click', () => {
        document.getElementById('shopPanel').style.display = 'none';
      });

      // ÙØªØ­ ÙˆØ¥ØºÙ„Ø§Ù‚ Ù†Ø§ÙØ°Ø© Ù†Ù‚Ø§Ø·ÙŠ ÙˆÙ…Ø³ØªÙˆØ§ÙŠ
      const levelBtn = document.getElementById('myLevelBtn');
      const levelPanel = document.getElementById('levelPointsPanel');
      const closeLevel = document.querySelector('.close-level-panel');
      if (levelBtn && levelPanel) {
        levelBtn.addEventListener('click', () => {
          levelPanel.classList.remove('hidden');
        });
      }
      if (closeLevel) {
        closeLevel.addEventListener('click', () => {
          levelPanel.classList.add('hidden');
        });
      }

      // Ø§Ù„Ø¥ÙŠÙ…ÙˆØ¬ÙŠ
      const emojiBtn = document.getElementById('emojiBtn');
      const emojiPicker = document.getElementById('emojiPicker');
      const messageInput = document.getElementById('messageInput');
      if (emojiBtn && emojiPicker && messageInput) {
        emojiBtn.addEventListener('click', (e) => {
          e.stopPropagation();
          emojiPicker.classList.toggle('hidden');
        });
        document.addEventListener('click', (e) => {
          if (!emojiPicker.contains(e.target) && e.target !== emojiBtn) {
            emojiPicker.classList.add('hidden');
          }
        });
        document.querySelectorAll('.emoji-tab').forEach(tab => {
          tab.addEventListener('click', () => {
            document.querySelectorAll('.emoji-tab').forEach(t => t.classList.remove('active'));
            tab.classList.add('active');
            document.querySelectorAll('.emoji-grid').forEach(grid => grid.classList.add('hidden'));
            document.getElementById(`tab-${tab.dataset.tab}`).classList.remove('hidden');
          });
        });
      }

      // ÙØªØ­ Ø§Ù„Ù„ÙˆØ­Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
      document.getElementById('privateMsgBtn')?.addEventListener('click', () => {
        document.querySelectorAll('.conversations-panel, .friend-requests-panel, .reports-panel').forEach(p => p.style.display = 'none');
        document.getElementById('conversationsPanel').style.display = 'block';
      });

      document.getElementById('friendReqBtn')?.addEventListener('click', () => {
        document.querySelectorAll('.conversations-panel, .friend-requests-panel, .reports-panel').forEach(p => p.style.display = 'none');
        document.getElementById('friendRequestsPanel').style.display = 'block';
      });

      document.getElementById('reportsBtn')?.addEventListener('click', () => {
        document.querySelectorAll('.conversations-panel, .friend-requests-panel, .reports-panel').forEach(p => p.style.display = 'none');
        document.getElementById('reportsPanel').style.display = 'block';
      });

      // ÙØªØ­ Ø¨Ø±ÙˆÙØ§ÙŠÙ„Ùƒ
      document.getElementById('profileBtn')?.addEventListener('click', () => {
        document.getElementById('myProfilePanel').style.display = 'block';
      });

      document.getElementById('closeMyProfile')?.addEventListener('click', () => {
        document.getElementById('myProfilePanel').style.display = 'none';
      });

      // ØªØ¨Ø¯ÙŠÙ„ ØªØ¨ÙˆÙŠØ¨Ø§Øª Ø§Ù„Ø¨Ø±ÙˆÙØ§ÙŠÙ„
      document.querySelectorAll('.modern-tabs .m-tab').forEach(tab => {
        tab.addEventListener('click', () => {
          document.querySelectorAll('.m-tab').forEach(t => t.classList.remove('active'));
          tab.classList.add('active');
          document.querySelectorAll('.tab-pane').forEach(p => p.classList.add('hidden'));
          document.getElementById(`tab-${tab.dataset.tab}`).classList.remove('hidden');
        });
      });
    });
   </script>

</html>
